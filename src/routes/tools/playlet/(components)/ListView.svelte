<script lang='ts'>
	import Button from "$lib/components/ui/button/button.svelte";
	import Loading from "./Loading.svelte";

  export let result:undefined|Playlet.ApiResult;
  export let title = '';
</script>


{#if result && result}
  <div class='flex flex-col gap-4'>
    <h2 class='text-muted-foreground font-semibold'>
      {#if title}
      {title}
      {:else}
      ğŸ” {result.count} æ¡ç›¸å…³ç»“æœ
      {/if}
    </h2>

    {#if result.data.length<1}
    <div class='text-center space-y-2'>
      <div class='text-4xl'>:(</div>
      <div class='text-muted-foreground text-sm'>æ²¡æœ‰æ‰¾åˆ°ç›¸å…³å†…å®¹ï¼Œå°è¯•æ¢ä¸ªå…³é”®è¯ ï¼Ÿ</div>
    </div>
    {/if}
    
    {#each result.data as item}
    <div class='flex items-center gap-4'>
      <div class='grow'>
        <h3 class='text-lg font-semibold line-clamp-2'>{item.name}</h3>
        <p class='text-sm text-muted-foreground'>èµ„æºæ·»åŠ äº {item.addtime}</p>
      </div>
      <div class='shrink-0'>
        <Button href={item.url} target='_blank'>ç½‘ç›˜</Button>
      </div>
    </div>
    {/each}
  </div>
{/if}
{#if !result}
<Loading />
{/if}