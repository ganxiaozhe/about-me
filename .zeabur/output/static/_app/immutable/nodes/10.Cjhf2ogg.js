import{s as X,p as ee,n as te,d as h,q as se,i as V,c as I,e as C,h as y,w as ne,x as ge,b,l as x,g as M,j as S,M as ae,J as be,m as le,a as W,f as F,t as N,S as ke,U as we,v as Ee,o as De}from"../chunks/C7vqo0_1.js";import{S as Y,i as Z,d as B,t as k,a as g,m as P,c as R,b as T,g as A,e as G,f as Ie}from"../chunks/CE-11OL3.js";import{S as ye}from"../chunks/GwYCCJei.js";import{B as $e}from"../chunks/C-zsAw5F.js";import{I as Ve}from"../chunks/DDugSQyQ.js";import{t as xe}from"../chunks/DRgQVnvR.js";import{e as re}from"../chunks/DSBNpxtm.js";import{g as He}from"../chunks/CgU5AtxT.js";import{c as ie}from"../chunks/dbvwUz4C.js";function Le(a){let e,l,t=[{class:l=ie("animate-pulse rounded-md bg-primary/10",a[0])},a[1]],n={};for(let s=0;s<t.length;s+=1)n=ee(n,t[s]);return{c(){e=y("div"),this.h()},l(s){e=I(s,"DIV",{class:!0}),C(e).forEach(h),this.h()},h(){se(e,n)},m(s,r){V(s,e,r)},p(s,[r]){se(e,n=He(t,[r&1&&l!==(l=ie("animate-pulse rounded-md bg-primary/10",s[0]))&&{class:l},r&2&&s[1]]))},i:te,o:te,d(s){s&&h(e)}}}function Me(a,e,l){const t=["class"];let n=ne(e,t),{class:s=void 0}=e;return a.$$set=r=>{e=ee(ee({},e),ge(r)),l(1,n=ne(e,t)),"class"in r&&l(0,s=r.class)},[s,n]}class Q extends Y{constructor(e){super(),Z(this,e,Me,Le,X,{class:0})}}function Se(a){let e,l,t,n,s,r,c,m,o,$,u;return t=new Q({props:{class:"h-5"}}),s=new Q({props:{class:"h-5 w-1/3 mt-4"}}),m=new Q({props:{class:"h-5"}}),$=new Q({props:{class:"h-5 w-1/3 mt-4"}}),{c(){e=y("div"),l=y("div"),T(t.$$.fragment),n=S(),T(s.$$.fragment),r=S(),c=y("div"),T(m.$$.fragment),o=S(),T($.$$.fragment),this.h()},l(p){e=I(p,"DIV",{class:!0});var i=C(e);l=I(i,"DIV",{class:!0});var d=C(l);R(t.$$.fragment,d),n=M(d),R(s.$$.fragment,d),d.forEach(h),r=M(i),c=I(i,"DIV",{class:!0});var f=C(c);R(m.$$.fragment,f),o=M(f),R($.$$.fragment,f),f.forEach(h),i.forEach(h),this.h()},h(){x(l,"class","space-y-2"),x(c,"class","space-y-2"),x(e,"class","flex flex-col gap-4")},m(p,i){V(p,e,i),b(e,l),P(t,l,null),b(l,n),P(s,l,null),b(e,r),b(e,c),P(m,c,null),b(c,o),P($,c,null),u=!0},p:te,i(p){u||(g(t.$$.fragment,p),g(s.$$.fragment,p),g(m.$$.fragment,p),g($.$$.fragment,p),u=!0)},o(p){k(t.$$.fragment,p),k(s.$$.fragment,p),k(m.$$.fragment,p),k($.$$.fragment,p),u=!1},d(p){p&&h(e),B(t),B(s),B(m),B($)}}}class Ce extends Y{constructor(e){super(),Z(this,e,null,Se,X,{})}}function fe(a,e,l){const t=a.slice();return t[2]=e[l],t}function oe(a){let e,l,t,n,s;function r(i,d){return i[1]?Be:je}let c=r(a),m=c(a),o=a[0].data.length<1&&ue(),$=re(a[0].data),u=[];for(let i=0;i<$.length;i+=1)u[i]=ce(fe(a,$,i));const p=i=>k(u[i],1,1,()=>{u[i]=null});return{c(){e=y("div"),l=y("h2"),m.c(),t=S(),o&&o.c(),n=S();for(let i=0;i<u.length;i+=1)u[i].c();this.h()},l(i){e=I(i,"DIV",{class:!0});var d=C(e);l=I(d,"H2",{class:!0});var f=C(l);m.l(f),f.forEach(h),t=M(d),o&&o.l(d),n=M(d);for(let v=0;v<u.length;v+=1)u[v].l(d);d.forEach(h),this.h()},h(){x(l,"class","text-muted-foreground font-semibold"),x(e,"class","flex flex-col gap-4")},m(i,d){V(i,e,d),b(e,l),m.m(l,null),b(e,t),o&&o.m(e,null),b(e,n);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(e,null);s=!0},p(i,d){if(c===(c=r(i))&&m?m.p(i,d):(m.d(1),m=c(i),m&&(m.c(),m.m(l,null))),i[0].data.length<1?o||(o=ue(),o.c(),o.m(e,n)):o&&(o.d(1),o=null),d&1){$=re(i[0].data);let f;for(f=0;f<$.length;f+=1){const v=fe(i,$,f);u[f]?(u[f].p(v,d),g(u[f],1)):(u[f]=ce(v),u[f].c(),g(u[f],1),u[f].m(e,null))}for(A(),f=$.length;f<u.length;f+=1)p(f);G()}},i(i){if(!s){for(let d=0;d<$.length;d+=1)g(u[d]);s=!0}},o(i){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)k(u[d]);s=!1},d(i){i&&h(e),m.d(),o&&o.d(),be(u,i)}}}function je(a){let e,l=a[0].count+"",t,n;return{c(){e=N("🔍 "),t=N(l),n=N(" 条相关结果")},l(s){e=F(s,"🔍 "),t=F(s,l),n=F(s," 条相关结果")},m(s,r){V(s,e,r),V(s,t,r),V(s,n,r)},p(s,r){r&1&&l!==(l=s[0].count+"")&&W(t,l)},d(s){s&&(h(e),h(t),h(n))}}}function Be(a){let e;return{c(){e=N(a[1])},l(l){e=F(l,a[1])},m(l,t){V(l,e,t)},p(l,t){t&2&&W(e,l[1])},d(l){l&&h(e)}}}function ue(a){let e,l='<div class="text-4xl">:(</div> <div class="text-muted-foreground text-sm">没有找到相关内容，尝试换个关键词 ？</div>';return{c(){e=y("div"),e.innerHTML=l,this.h()},l(t){e=I(t,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1ims39u"&&(e.innerHTML=l),this.h()},h(){x(e,"class","text-center space-y-2")},m(t,n){V(t,e,n)},d(t){t&&h(e)}}}function Pe(a){let e;return{c(){e=N("网盘")},l(l){e=F(l,"网盘")},m(l,t){V(l,e,t)},d(l){l&&h(e)}}}function ce(a){let e,l,t,n=a[2].name+"",s,r,c,m,o=a[2].addtime+"",$,u,p,i,d,f;return i=new $e({props:{href:a[2].url,target:"_blank",$$slots:{default:[Pe]},$$scope:{ctx:a}}}),{c(){e=y("div"),l=y("div"),t=y("h3"),s=N(n),r=S(),c=y("p"),m=N("资源添加于 "),$=N(o),u=S(),p=y("div"),T(i.$$.fragment),d=S(),this.h()},l(v){e=I(v,"DIV",{class:!0});var D=C(e);l=I(D,"DIV",{class:!0});var j=C(l);t=I(j,"H3",{class:!0});var U=C(t);s=F(U,n),U.forEach(h),r=M(j),c=I(j,"P",{class:!0});var z=C(c);m=F(z,"资源添加于 "),$=F(z,o),z.forEach(h),j.forEach(h),u=M(D),p=I(D,"DIV",{class:!0});var J=C(p);R(i.$$.fragment,J),J.forEach(h),d=M(D),D.forEach(h),this.h()},h(){x(t,"class","text-lg font-semibold line-clamp-2"),x(c,"class","text-sm text-muted-foreground"),x(l,"class","grow"),x(p,"class","shrink-0"),x(e,"class","flex items-center gap-4")},m(v,D){V(v,e,D),b(e,l),b(l,t),b(t,s),b(l,r),b(l,c),b(c,m),b(c,$),b(e,u),b(e,p),P(i,p,null),b(e,d),f=!0},p(v,D){(!f||D&1)&&n!==(n=v[2].name+"")&&W(s,n),(!f||D&1)&&o!==(o=v[2].addtime+"")&&W($,o);const j={};D&1&&(j.href=v[2].url),D&32&&(j.$$scope={dirty:D,ctx:v}),i.$set(j)},i(v){f||(g(i.$$.fragment,v),f=!0)},o(v){k(i.$$.fragment,v),f=!1},d(v){v&&h(e),B(i)}}}function me(a){let e,l;return e=new Ce({}),{c(){T(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Re(a){let e,l,t,n=a[0]&&a[0]&&oe(a),s=!a[0]&&me();return{c(){n&&n.c(),e=S(),s&&s.c(),l=ae()},l(r){n&&n.l(r),e=M(r),s&&s.l(r),l=ae()},m(r,c){n&&n.m(r,c),V(r,e,c),s&&s.m(r,c),V(r,l,c),t=!0},p(r,[c]){r[0]&&r[0]?n?(n.p(r,c),c&1&&g(n,1)):(n=oe(r),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(A(),k(n,1,1,()=>{n=null}),G()),r[0]?s&&(A(),k(s,1,1,()=>{s=null}),G()):s?c&1&&g(s,1):(s=me(),s.c(),g(s,1),s.m(l.parentNode,l))},i(r){t||(g(n),g(s),t=!0)},o(r){k(n),k(s),t=!1},d(r){r&&(h(e),h(l)),n&&n.d(r),s&&s.d(r)}}}function Te(a,e,l){let{result:t}=e,{title:n=""}=e;return a.$$set=s=>{"result"in s&&l(0,t=s.result),"title"in s&&l(1,n=s.title)},[t,n]}class ve extends Y{constructor(e){super(),Z(this,e,Te,Re,X,{result:0,title:1})}}function qe(a){let e;return{c(){e=N("搜索")},l(l){e=F(l,"搜索")},m(l,t){V(l,e,t)},d(l){l&&h(e)}}}function de(a){let e,l='<div class="flex items-center gap-3"><a href="/" class="hover:opacity-80">主页</a> <a href="/resume" class="hover:opacity-80">简历</a> <a href="https://gxzv.com" class="hover:opacity-80">博客</a></div> <div class="flex items-center gap-3"><a href="https://ys.110t.cn/" target="_blank" class="hover:opacity-80">数据来源</a></div>';return{c(){e=y("div"),e.innerHTML=l,this.h()},l(t){e=I(t,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-39hf1r"&&(e.innerHTML=l),this.h()},h(){x(e,"class","text-sm text-muted-foreground flex items-center justify-between gap-3 mt-1.5 pl-3")},m(t,n){V(t,e,n)},d(t){t&&h(e)}}}function _e(a){let e,l;return e=new ve({props:{result:a[2],title:"🆕 最近添加"}}),{c(){T(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const s={};n&4&&(s.result=t[2]),e.$set(s)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function pe(a){let e,l;return e=new ve({props:{result:a[1]}}),{c(){T(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const s={};n&2&&(s.result=t[1]),e.$set(s)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Fe(a){let e,l,t,n,s,r="短剧来了我说",c,m,o,$,u,p,i,d,f,v,D,j,U;e=new ye({props:{title:"短剧来了"}});function z(_){a[5](_)}let J={type:"name",placeholder:"剧名"};a[3]!==void 0&&(J.value=a[3]),o=new Ve({props:J}),ke.push(()=>Ie(o,"value",z)),p=new $e({props:{type:"submit",$$slots:{default:[qe]},$$scope:{ctx:a}}});let L=!a[0]&&de(),w=!a[0]&&_e(a),E=a[0]&&pe(a);return{c(){T(e.$$.fragment),l=S(),t=y("div"),n=y("div"),s=y("h1"),s.textContent=r,c=S(),m=y("form"),T(o.$$.fragment),u=S(),T(p.$$.fragment),i=S(),L&&L.c(),d=S(),f=y("div"),w&&w.c(),v=S(),E&&E.c(),this.h()},l(_){R(e.$$.fragment,_),l=M(_),t=I(_,"DIV",{class:!0});var H=C(t);n=I(H,"DIV",{class:!0});var q=C(n);s=I(q,"H1",{class:!0,"data-svelte-h":!0}),le(s)!=="svelte-1k7oasw"&&(s.textContent=r),c=M(q),m=I(q,"FORM",{class:!0});var O=C(m);R(o.$$.fragment,O),u=M(O),R(p.$$.fragment,O),O.forEach(h),i=M(q),L&&L.l(q),q.forEach(h),H.forEach(h),d=M(_),f=I(_,"DIV",{class:!0});var K=C(f);w&&w.l(K),v=M(K),E&&E.l(K),K.forEach(h),this.h()},h(){x(s,"class","text-2xl font-semibold mb-4"),x(m,"class","flex w-full items-center space-x-2"),x(n,"class","text-center w-full max-w-sm"),x(t,"class","container h-52 flex items-center justify-center"),x(f,"class","container max-w-xl mx-auto pb-12")},m(_,H){P(e,_,H),V(_,l,H),V(_,t,H),b(t,n),b(n,s),b(n,c),b(n,m),P(o,m,null),b(m,u),P(p,m,null),b(n,i),L&&L.m(n,null),V(_,d,H),V(_,f,H),w&&w.m(f,null),b(f,v),E&&E.m(f,null),D=!0,j||(U=Ee(m,"submit",a[4]),j=!0)},p(_,[H]){const q={};!$&&H&8&&($=!0,q.value=_[3],we(()=>$=!1)),o.$set(q);const O={};H&64&&(O.$$scope={dirty:H,ctx:_}),p.$set(O),_[0]?L&&(L.d(1),L=null):L||(L=de(),L.c(),L.m(n,null)),_[0]?w&&(A(),k(w,1,1,()=>{w=null}),G()):w?(w.p(_,H),H&1&&g(w,1)):(w=_e(_),w.c(),g(w,1),w.m(f,v)),_[0]?E?(E.p(_,H),H&1&&g(E,1)):(E=pe(_),E.c(),g(E,1),E.m(f,null)):E&&(A(),k(E,1,1,()=>{E=null}),G())},i(_){D||(g(e.$$.fragment,_),g(o.$$.fragment,_),g(p.$$.fragment,_),g(w),g(E),D=!0)},o(_){k(e.$$.fragment,_),k(o.$$.fragment,_),k(p.$$.fragment,_),k(w),k(E),D=!1},d(_){_&&(h(l),h(t),h(d),h(f)),B(e,_),B(o),B(p),L&&L.d(),w&&w.d(),E&&E.d(),j=!1,U()}}}async function he(a){let e=new URL(window.location.origin+"/api/playlet/");return a&&e.searchParams.append("name",a),await(await fetch(e)).json()}function Ne(a,e,l){let t=!1,n,s;De(async()=>{l(2,s=await he())});let r="";async function c(o){if(o.preventDefault(),!r.trim()){xe.error("请先输入剧名");return}l(0,t=!0),l(1,n=void 0);const $=await he(r);l(1,n=$)}function m(o){r=o,l(3,r)}return[t,n,s,r,c,m]}class Xe extends Y{constructor(e){super(),Z(this,e,Ne,Fe,X,{})}}export{Xe as component};
