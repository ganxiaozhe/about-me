import{s as Y,d as m,J as Z,r as tt,a as z,i as A,b as d,v as U,l as p,g as B,c as v,e as w,m as $,f as j,j as S,h as g,t as F,o as et,O as lt,M as L}from"../chunks/C7vqo0_1.js";import{S as rt,i as st,d as ot,t as nt,a as at,m as it,c as ct,b as ut}from"../chunks/CE-11OL3.js";import{e as Q}from"../chunks/DSBNpxtm.js";import{S as ft}from"../chunks/GwYCCJei.js";import{t as dt}from"../chunks/DRgQVnvR.js";function W(a,l,s){const t=a.slice();return t[10]=l[s],t}function ht(a){let l,s=a[10]+"",t,e,r;function n(){return a[6](a[10])}return{c(){l=g("button"),t=F(s),this.h()},l(c){l=v(c,"BUTTON",{class:!0});var b=w(l);t=j(b,s),b.forEach(m),this.h()},h(){p(l,"class","number-btn text-black hover:bg-gray-100 p-4 py-6 text-xl font-semibold border-b border-r border-gray-200 svelte-x37hx3")},m(c,b){A(c,l,b),d(l,t),e||(r=U(l,"click",n),e=!0)},p(c,b){a=c,b&2&&s!==(s=a[10]+"")&&z(t,s)},d(c){c&&m(l),e=!1,r()}}}function mt(a){let l,s=a[10]+"",t,e,r;return{c(){l=g("button"),t=F(s),this.h()},l(n){l=v(n,"BUTTON",{class:!0});var c=w(l);t=j(c,s),c.forEach(m),this.h()},h(){p(l,"class","text-black hover:bg-gray-100 p-4 py-6 text-xl font-semibold border-b border-r border-gray-200 svelte-x37hx3")},m(n,c){A(n,l,c),d(l,t),e||(r=U(l,"click",a[3]),e=!0)},p(n,c){c&2&&s!==(s=n[10]+"")&&z(t,s)},d(n){n&&m(l),e=!1,r()}}}function X(a){let l;function s(r,n){return r[10]==="←"?mt:ht}let t=s(a),e=t(a);return{c(){e.c(),l=L()},l(r){e.l(r),l=L()},m(r,n){e.m(r,n),A(r,l,n)},p(r,n){t===(t=s(r))&&e?e.p(r,n):(e.d(1),e=t(r),e&&(e.c(),e.m(l.parentNode,l)))},d(r){r&&m(l),e.d(r)}}}function bt(a){let l,s,t,e,r,n,c="金额",b,C,M,I,P,u,h,N,_,D="清空",x,y,G="确认",O,q,H;l=new ft({props:{title:"幸运红包"}});let T=Q(a[1]),f=[];for(let o=0;o<T.length;o+=1)f[o]=X(W(a,T,o));return{c(){ut(l.$$.fragment),s=S(),t=g("div"),e=g("div"),r=g("div"),n=g("div"),n.textContent=c,b=S(),C=g("div"),M=F("¥ "),I=F(a[0]),P=S(),u=g("div"),h=g("div");for(let o=0;o<f.length;o+=1)f[o].c();N=S(),_=g("button"),_.textContent=D,x=S(),y=g("button"),y.textContent=G,this.h()},l(o){ct(l.$$.fragment,o),s=B(o),t=v(o,"DIV",{class:!0});var k=w(t);e=v(k,"DIV",{class:!0});var i=w(e);r=v(i,"DIV",{class:!0});var E=w(r);n=v(E,"DIV",{class:!0,"data-svelte-h":!0}),$(n)!=="svelte-fpy95b"&&(n.textContent=c),b=B(E),C=v(E,"DIV",{class:!0});var J=w(C);M=j(J,"¥ "),I=j(J,a[0]),J.forEach(m),E.forEach(m),P=B(i),u=v(i,"DIV",{class:!0});var K=w(u);h=v(K,"DIV",{class:!0});var V=w(h);for(let R=0;R<f.length;R+=1)f[R].l(V);N=B(V),_=v(V,"BUTTON",{class:!0,"data-svelte-h":!0}),$(_)!=="svelte-1y75s62"&&(_.textContent=D),x=B(V),y=v(V,"BUTTON",{class:!0,"data-svelte-h":!0}),$(y)!=="svelte-78igbn"&&(y.textContent=G),V.forEach(m),K.forEach(m),i.forEach(m),k.forEach(m),this.h()},h(){p(n,"class","text-sm mb-2"),p(C,"class","text-4xl font-bold"),p(r,"class","p-8 bg-red-500 text-white"),p(_,"class","col-span-1 text-black bg-gray-100 hover:bg-gray-200 p-4 text-xl font-semibold border-r border-gray-200 svelte-x37hx3"),p(y,"class","col-span-2 bg-red-500 hover:bg-red-600 p-4 text-xl font-semibold text-white svelte-x37hx3"),p(h,"class","grid grid-cols-3 border-l border-t border-gray-200"),p(u,"class",""),p(e,"class","max-w-md mx-auto bg-white rounded-xl shadow-lg overflow-hidden w-full sm:min-w-96"),p(t,"class","min-h-screen p-4 flex justify-center items-center ")},m(o,k){it(l,o,k),A(o,s,k),A(o,t,k),d(t,e),d(e,r),d(r,n),d(r,b),d(r,C),d(C,M),d(C,I),d(e,P),d(e,u),d(u,h);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(h,null);d(h,N),d(h,_),d(h,x),d(h,y),O=!0,q||(H=[U(_,"click",a[4]),U(y,"click",a[5])],q=!0)},p(o,[k]){if((!O||k&1)&&z(I,o[0]),k&14){T=Q(o[1]);let i;for(i=0;i<T.length;i+=1){const E=W(o,T,i);f[i]?f[i].p(E,k):(f[i]=X(E),f[i].c(),f[i].m(h,N))}for(;i<f.length;i+=1)f[i].d(1);f.length=T.length}},i(o){O||(at(l.$$.fragment,o),O=!0)},o(o){nt(l.$$.fragment,o),O=!1},d(o){o&&(m(s),m(t)),ot(l,o),Z(f,o),q=!1,tt(H)}}}function _t(a,l,s){let t="0",e=0,r,n=[...Array(9).fill(0).map((u,h)=>h+1),".",0,"←"];function c(u){if(t==="0"&&u!=="."){if(e===0&&Number(u)>5)return;s(0,t=u),e++}else{if(u==="."&&t.includes("."))return;u==="."&&t==="0"?s(0,t="0."):(s(0,t+=u),u!=="."&&e++)}console.log("inputCount:",e)}function b(){t.length===1?(s(0,t="0"),e=0):(s(0,t=t.slice(0,-1)),e=Math.max(0,e-1))}function C(){s(0,t="0"),e=0}function M(){dt.success(`确认转账金额 ¥${Number(t).toFixed(2)}`)}function I(){const h=[15,30,10,6,4,1,1,1,1,1].flatMap((D,x)=>Array(D).fill(x)),N=[".","←",".","←","←","←","←","←"],_=[...h,...N];console.log("fullPool:",_),r=setInterval(()=>{let D=[..._];e<1&&(D=D.filter(x=>isNaN(Number(x))||Number(x)<=5)),s(1,n=n.map(x=>{if(Math.random()>.7){const y=Math.floor(Math.random()*D.length);return D[y]}return x}))},300)}return et(()=>{I()}),lt(()=>{r&&clearInterval(r)}),[t,n,c,b,C,M,u=>c(u.toString())]}class kt extends rt{constructor(l){super(),st(this,l,_t,bt,Y,{})}}export{kt as component};
